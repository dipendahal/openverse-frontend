(window.webpackJsonp=window.webpackJsonp||[]).push([[67,9,10,22,23],{1204:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(22),__webpack_require__(9),__webpack_require__(7),__webpack_require__(12);var build_url=__webpack_require__(1254),build_url_default=__webpack_require__.n(build_url),legacySourceMap={ccMixter:{audio:function audio(search){return{url:"http://dig.ccmixter.org/search",query:{lic:"open",searchp:search.q}}}},"EDU images":{image:function image(search){return{url:"https://images.all4ed.org",query:{s:search.q}}}},Europeana:{audio:function audio(search){var query="".concat(search.q," AND RIGHTS:*creative*");return search.filters&&search.filters.commercial&&(search.filters.commercial&&(query="".concat(query," AND NOT RIGHTS:*nc*")),search.filters.modify&&(query="".concat(query," AND NOT RIGHTS:*nd*"))),{url:"https://www.europeana.eu/en/search",query:{page:1,qf:'TYPE:"SOUND"',query:query}}},video:function video(search){var query="".concat(search.q," AND RIGHTS:*creative*");return search.filters&&search.filters.commercial&&(search.filters.comercial&&(query="".concat(query," AND NOT RIGHTS:*nc*")),search.filters.modify&&(query="".concat(query," AND NOT RIGHTS:*nd*"))),{url:"https://www.europeana.eu/en/search",query:{page:1,qf:'TYPE:"VIDEO"',query:query}}}},"Google Images":{image:function image(search){return{url:"https://www.google.com/search",query:{q:search.q,tbm:"isch",tbs:"il:cl"}}}},"Images of Empowerment":{image:function image(search){return{url:"https://www.imagesofempowerment.org/",query:{s:search.q}}}},Jamendo:{audio:function audio(search){return{url:"https://www.jamendo.com/search/tracks",query:{q:search.q}}}},"Open Clip Art Library":{image:function image(search){return{url:"http://www.openclipart.org/search/",query:{query:search.q}}}},Nappy:{image:function image(search){return{url:"https://www.nappy.co/",query:{s:search.q}}}},"The Greats":{image:function image(search){return{url:"https://www.thegreats.co/artworks/",query:{theme:0,search:search.q}}}},SoundCloud:{audio:function audio(search){var license="to_share";return search.filters&&search.filters.commercial&&(search.filters.commercial&&(license="to_use_commercially"),search.filters.modify&&(license="to_modify_commercially")),{url:"https://soundcloud.com/search/sounds",query:{q:search.q,"filter.license":license}}}},Vimeo:{video:function video(search){return{url:"https://vimeo.com/search",query:{license:"by",q:search.q}}}},"Wikimedia Commons":{audio:function audio(search){return{url:"https://commons.wikimedia.org/w/index.php",query:{search:"".concat(search.q),title:"Special:MediaSearch",type:"audio"}}},video:function video(search){return{url:"https://commons.wikimedia.org/w/index.php",query:{search:"".concat(search.q),title:"Special:MediaSearch",type:"video"}}}},YouTube:{video:function video(search){return{url:"https://www.youtube.com/results",query:{search_query:search.q,sp:"EgIwAQ%3D%3D"}}}}},get_legacy_source_url=function getLegacySourceUrl(type){return function(sourceName,search){if(!search)throw new Error("Please provide a valid query to search ".concat(sourceName," for ").concat(type," files."));var source=legacySourceMap[sourceName];if(!source)throw new Error("No data available for provided legacy source: ".concat(sourceName));var getSourceUrlInfo=source[type];if(!getSourceUrlInfo)throw new Error("".concat(sourceName," does not offer meta search for ").concat(type));var urlInfo=getSourceUrlInfo(search);return build_url_default()(urlInfo.url,{queryParams:urlInfo.query})}},VMetaSearch_VMetaSourceListvue_type_script_lang_js_={name:"MetaSourceList",props:{type:{type:String},query:{type:Object}},data:function data(){var _this=this;return{sources:Object.keys(legacySourceMap).filter((function(sourceName){return legacySourceMap[sourceName][_this.type]}))}},methods:{getSourceUrl:function getSourceUrl(source){return get_legacy_source_url(this.type)(source,this.query)}}},componentNormalizer=__webpack_require__(23);const __vuedocgen_export_0=Object(componentNormalizer.a)(VMetaSearch_VMetaSourceListvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"mb-10"},[_c("ul",{staticClass:"buttons is-centered mt-6"},_vm._l(_vm.sources,(function(source){return _c("li",{key:source},[_c("a",{staticClass:"button small me-2 is-opaque",attrs:{target:"_blank",rel:"nofollow noreferrer",href:_vm.getSourceUrl(source)}},[_vm._v("\n        "+_vm._s(source)+"\n        "),_vm._m(0,!0)])])})),0)])}),[function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("sup",{staticClass:"top-0"},[_c("i",{staticClass:"ms-2 icon external-link"})])}],!1,null,null,null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"MetaSourceList",exportName:"default",description:"",tags:{},props:[{name:"type",type:{name:"string"}},{name:"query",type:{name:"object"}}]}},1206:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(36);var Filters_FilterTagvue_type_script_lang_js_={name:"FilterTag",props:{code:String,filterType:String,label:String},computed:{needsTranslation:function needsTranslation(){return!["audioProviders","imageProviders"].includes(this.$props.filterType)},filterLabel:function filterLabel(){return this.needsTranslation?this.$t(this.$props.label):this.$props.label}},methods:{onClick:function onClick(){this.$emit("filterChanged",{code:this.$props.code,filterType:this.$props.filterType})}}},componentNormalizer=__webpack_require__(23);const __vuedocgen_export_0=Object(componentNormalizer.a)(Filters_FilterTagvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("button",{staticClass:"button tiny tag",attrs:{"aria-label":_vm.$t("filters.aria.remove-filter",{label:_vm.filterLabel})},on:{click:_vm.onClick}},[_c("span",[_vm._v(_vm._s(_vm.filterLabel))]),_vm._v(" "),_vm._m(0)])}),[function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("span",{staticClass:"close ms-2 p-2"},[_c("i",{staticClass:"icon cross"})])}],!1,null,null,null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"FilterTag",exportName:"default",description:"",tags:{},props:[{name:"code",type:{name:"string"}},{name:"filterType",type:{name:"string"}},{name:"label",type:{name:"string"}}],events:[{name:"filterChanged",type:{names:["undefined"]}}]}},1208:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(36),__webpack_require__(51);var media=__webpack_require__(41),VMetaSearch_VMetaSearchFormvue_type_script_lang_js_={name:"VMetaSearch",components:{VMetaSourceList:__webpack_require__(1204).default},props:{query:{type:Object,required:!0},type:{type:String,required:!0},supported:{type:Boolean,default:!1},noresult:{type:Boolean,required:!0}},computed:{unsupportedByUsefilter:function unsupportedByUsefilter(){return this.type===media.b?"CC Mixter, Jamendo, or Wikimedia Commons":this.type===media.d?"Wikimedia Commons or Youtube":this.type===media.c?"Google Images":""},metaQuery:function metaQuery(){return{q:this.query.q,filters:{commercial:!!this.query.license_type&&this.query.license_type.includes("commercial"),modify:!!this.query.license_type&&this.query.license_type.includes("modification")}}}}},componentNormalizer=__webpack_require__(23),component=Object(componentNormalizer.a)(VMetaSearch_VMetaSearchFormvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",{key:_vm.type,staticClass:"p-6 meta-search text-center mt-12"},[_c("header",{staticClass:"mb-10"},[_vm.noresult?_c("i18n",{staticClass:"b-header mb-2",attrs:{path:"meta-search.form.no-results-title",tag:"h4"},scopedSlots:_vm._u([{key:"type",fn:function(){return[_vm._v("\n        "+_vm._s(_vm.type)+"\n      ")]},proxy:!0},{key:"query",fn:function(){return[_vm._v("\n        "+_vm._s(_vm.query.q)+"\n      ")]},proxy:!0}])}):_c("i18n",{staticClass:"b-header mb-2",attrs:{path:_vm.supported?"meta-search.form.supported-title":"meta-search.form.unsupported-title",tag:"h4"},scopedSlots:_vm._u([{key:"type",fn:function(){return[_vm._v("\n        "+_vm._s(_vm.type)+"\n      ")]},proxy:!0}],null,!1,1292897616)}),_vm._v(" "),_c("i18n",{attrs:{path:"meta-search.form.caption",tag:"p"},scopedSlots:_vm._u([{key:"type",fn:function(){return[_vm._v(_vm._s(_vm.type))]},proxy:!0},{key:"break",fn:function(){return[_c("br")]},proxy:!0},{key:"filter",fn:function(){return[_vm._v(_vm._s(_vm.unsupportedByUsefilter))]},proxy:!0}])})],1),_vm._v(" "),_c("VMetaSourceList",{attrs:{type:_vm.type,query:_vm.metaQuery}}),_vm._v(" "),_c("p",{staticClass:"caption font-semibold max-w-3xl my-0 mx-auto"},[_vm._v("\n    "+_vm._s(_vm.$t("meta-search.caption"))+"\n  ")])],1)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VMetaSourceList:__webpack_require__(1204).default}),__vuedocgen_export_0.__docgenInfo={displayName:"VMetaSearch",exportName:"default",description:"",tags:{},props:[{name:"query",type:{name:"object"},required:!0},{name:"type",type:{name:"string"},required:!0},{name:"supported",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"noresult",type:{name:"boolean"},required:!0}]}},1218:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(9),__webpack_require__(3),__webpack_require__(22),__webpack_require__(33),__webpack_require__(18),__webpack_require__(34),__webpack_require__(12),__webpack_require__(7);var defineProperty=__webpack_require__(6),action_types=__webpack_require__(53),FilterTag=__webpack_require__(1206),vuex_esm=__webpack_require__(225),store_modules=__webpack_require__(74);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var FilterDisplayvue_type_script_lang_js_={name:"FilterDisplay",components:{FilterTag:FilterTag.default},computed:function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},Object(vuex_esm.c)(store_modules.i,["appliedFilterTags","isAnyFilterApplied"])),methods:{onUpdateFilter:function onUpdateFilter(_ref){var code=_ref.code,filterType=_ref.filterType;this.$store.dispatch("".concat(store_modules.i,"/").concat(action_types.o),{code:code,filterType:filterType})}}},Filters_FilterDisplayvue_type_script_lang_js_=FilterDisplayvue_type_script_lang_js_,componentNormalizer=__webpack_require__(23),component=Object(componentNormalizer.a)(Filters_FilterDisplayvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"flex flex-wrap items-center px-6",attrs:{"aria-live":"polite"}},[_vm.isAnyFilterApplied?_c("span",{staticClass:"me-2 font-semibold mb-2"},[_vm._v("\n    "+_vm._s(_vm.$t("filters.filter-by"))+"\n  ")]):_vm._e(),_vm._v(" "),_vm._l(_vm.appliedFilterTags,(function(filter){return _c("FilterTag",{key:filter.code,staticClass:"mx-1 mb-2 ms-2",attrs:{code:filter.code,label:filter.name,"filter-type":filter.filterType},on:{filterChanged:_vm.onUpdateFilter}})}))],2)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{FilterTag:__webpack_require__(1206).default}),__vuedocgen_export_0.__docgenInfo={displayName:"FilterDisplay",exportName:"default",description:"",tags:{}}},1254:function(module,exports,__webpack_require__){(function(){"use strict";var root=this,previousBuildUrl=root.buildUrl,encodedParam=function(param){return null===param?"":encodeURIComponent(String(param).trim())},buildUrl=function(url,options){var key,builtUrl,caseChange,queryString=[];if(caseChange=!(!options||!options.lowerCase)&&!!options.lowerCase,null===url?builtUrl="":"object"==typeof url?(builtUrl="",options=url):builtUrl=url,options){if(options.path){builtUrl&&"/"===builtUrl[builtUrl.length-1]&&(builtUrl=builtUrl.slice(0,-1));var localVar=String(options.path).trim();caseChange&&(localVar=localVar.toLowerCase()),0===localVar.indexOf("/")?builtUrl+=localVar:builtUrl+="/"+localVar}if(options.queryParams){for(key in options.queryParams){var param;if(options.queryParams.hasOwnProperty(key)&&void 0!==options.queryParams[key])if(options.disableCSV&&Array.isArray(options.queryParams[key])&&options.queryParams[key].length)for(var i=0;i<options.queryParams[key].length;i++)param=options.queryParams[key][i],queryString.push(key+"="+encodedParam(param));else param=caseChange?options.queryParams[key].toLowerCase():options.queryParams[key],queryString.push(key+"="+encodedParam(param))}builtUrl+="?"+queryString.join("&")}options.hash&&(builtUrl+=caseChange?"#"+String(options.hash).trim().toLowerCase():"#"+String(options.hash).trim())}return builtUrl};buildUrl.noConflict=function(){return root.buildUrl=previousBuildUrl,buildUrl},module.exports&&(exports=module.exports=buildUrl),exports.buildUrl=buildUrl}).call(this)},1284:function(module,exports,__webpack_require__){var content=__webpack_require__(1329);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(66).default)("5a6b1e06",content,!0,{sourceMap:!1})},1286:function(module,exports,__webpack_require__){var content=__webpack_require__(1334);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(66).default)("2658c714",content,!0,{sourceMap:!1})},1328:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1284)},1329:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(65)((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,".button.rating[data-v-081e96b8]{vertical-align:middle;color:#3e58e1;font-size:.8rem;text-decoration:none;text-transform:none}.button.rating[data-v-081e96b8]:focus,.button.rating[data-v-081e96b8]:hover{background:none}span[data-v-081e96b8]{vertical-align:middle}",""]),___CSS_LOADER_EXPORT___.locals={},module.exports=___CSS_LOADER_EXPORT___},1333:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1286)},1334:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(65)((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,".search[data-v-2126d2d0]{margin:0}.search-grid-ctr[data-v-2126d2d0]{background-color:#f6f7f7;min-height:600px;padding:0}@media screen and (max-width:767px){.search-grid-ctr[data-v-2126d2d0]{width:100%;-webkit-box-flex:0;-ms-flex:none;flex:none}}.grid-sidebar[data-v-2126d2d0]{padding:0;border-right:1px solid rgba(35,40,45,.2);width:21.875rem}",""]),___CSS_LOADER_EXPORT___.locals={},module.exports=___CSS_LOADER_EXPORT___},1444:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(9),__webpack_require__(3),__webpack_require__(22),__webpack_require__(33),__webpack_require__(18),__webpack_require__(34),__webpack_require__(114),__webpack_require__(36),__webpack_require__(51),__webpack_require__(7);var defineProperty=__webpack_require__(6),asyncToGenerator=__webpack_require__(35),action_types=(__webpack_require__(75),__webpack_require__(53)),mutation_types=__webpack_require__(21),search_query_transform=__webpack_require__(326),local=__webpack_require__(250),media=__webpack_require__(41),vuex_esm=__webpack_require__(225),store_modules=__webpack_require__(74),lodash_debounce=__webpack_require__(535),lodash_debounce_default=__webpack_require__.n(lodash_debounce),use_media_query=__webpack_require__(602),index_browser_esm=__webpack_require__(431),components_AppModalvue_type_script_lang_js_={name:"AppModal",components:{FocusTrap:index_browser_esm.a},props:{title:String,subTitle:String},mounted:function mounted(){document.addEventListener("keyup",this.closeOnEsc)},destroyed:function destroyed(){document.removeEventListener("keyup",this.closeOnEsc)},methods:{closeOnEsc:function closeOnEsc(e){27===e.keyCode&&this.$emit("close")}}},componentNormalizer=__webpack_require__(23);const __vuedocgen_export_0=Object(componentNormalizer.a)(components_AppModalvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"modal",staticClass:"overlay app-modal fixed w-full flex justify-center z-50 bg-dark-charcoal bg-opacity-75",on:{click:function($event){return $event.target!==$event.currentTarget?null:_vm.$emit("close")}}},[_c("FocusTrap",{attrs:{active:!0}},[_c("div",{staticClass:"rounded mt-10 mb-80 min-h-min bg-white",attrs:{"aria-modal":"true",role:"dialog"}},[_vm._t("default",null,{default:""})],2)])],1)}),[],!1,null,null,null).exports;var AppModal=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"AppModal",description:"@todo: This entire component should be moved to vue-vocabulary",tags:{},exportName:"default",props:[{name:"title",description:"Required for titlebar AND close button to show",type:{name:"string"}},{name:"subTitle",type:{name:"string"}}],events:[{name:"close"}],slots:[{name:"default",scoped:!0,bindings:[{name:"default",title:"binding"}]}]};var components_VScrollButtonvue_type_script_lang_js_={name:"VScrollButton",methods:{scrollToTop:function scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}},VScrollButton_component=Object(componentNormalizer.a)(components_VScrollButtonvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("button",{staticClass:"scroll text-white bg-trans-blue hover:bg-trans-blue-action transition-all duration-100 ease-linear fixed end-4 bottom-4 w-14 h-14 hover:shadow-md rounded-full text-center",attrs:{"aria-label":_vm.$t("browse-page.aria.scroll"),type:"button"},on:{click:_vm.scrollToTop,keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.scrollToTop.apply(null,arguments)}}},[_c("svg",{staticClass:"w-full h-full fill-curr",attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"}},[_c("path",{attrs:{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}})])])}),[],!1,null,null,null);const VScrollButton_vuedocgen_export_0=VScrollButton_component.exports;var VScrollButton=VScrollButton_vuedocgen_export_0;VScrollButton_vuedocgen_export_0.__docgenInfo={displayName:"VScrollButton",exportName:"default",description:"",tags:{}};__webpack_require__(105);var dist_runtime=__webpack_require__(2);__webpack_require__(115),__webpack_require__(24);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var components_VSaferBrowsingvue_type_script_lang_js_={name:"VSaferBrowsing",components:{FocusTrap:index_browser_esm.a},data:function data(){return{showForm:!1}},computed:{mature:function mature(){return this.$store.state.search.filters.mature}},methods:_objectSpread(_objectSpread({},Object(vuex_esm.b)(store_modules.i,{toggleFilter:action_types.o})),{},{toggleShowForm:function toggleShowForm(){this.showForm=!this.showForm},closeShowForm:function closeShowForm(){this.showForm=!1},toggleMature:function toggleMature(){this.toggleFilter({filterType:"mature"})}})},VSaferBrowsing_component=Object(componentNormalizer.a)(components_VSaferBrowsingvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"relative",on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:_vm.closeShowForm.apply(null,arguments)}}},[_c("button",{staticClass:"appearance-none px-0 leading-10 text-xs text-trans-blue font-semibold",staticStyle:{"white-space":"nowrap"},attrs:{type:"button"},on:{click:_vm.toggleShowForm}},[_vm._v("\n    "+_vm._s(_vm.$t("browse-page.safer-browsing.title"))+"\n  ")]),_vm._v(" "),_c("FocusTrap",{attrs:{active:_vm.showForm}},[_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.showForm,expression:"showForm"}],staticClass:"p-4 arrow-popup arrow-popup--anchor-right"},[_c("button",{staticClass:"button close-button is-text tiny float-right block text-light-gray",attrs:{type:"button"},on:{click:_vm.toggleShowForm}},[_c("i",{staticClass:"icon cross"})]),_vm._v(" "),_c("p",{staticClass:"caption font-semibold pe-6"},[_vm._v("\n        "+_vm._s(_vm.$t("browse-page.safer-browsing.caption"))+"\n      ")]),_vm._v(" "),_c("label",{staticClass:"checkbox mt-2",attrs:{for:"mature"}},[_c("input",{staticClass:"filter-checkbox",attrs:{id:"mature",type:"checkbox"},domProps:{checked:_vm.mature},on:{change:_vm.toggleMature,keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.toggleMature.apply(null,arguments)}}}),_vm._v("\n        "+_vm._s(_vm.$t("browse-page.safer-browsing.label"))+"\n      ")])])])],1)}),[],!1,null,null,null);const VSaferBrowsing_vuedocgen_export_0=VSaferBrowsing_component.exports;var VSaferBrowsing=VSaferBrowsing_vuedocgen_export_0;VSaferBrowsing_vuedocgen_export_0.__docgenInfo={displayName:"VSaferBrowsing",exportName:"default",description:"",tags:{}};__webpack_require__(12),__webpack_require__(226);var usage_data_analytics_types=__webpack_require__(113),Statuses_NOT_SENT="NOT_SENT",Statuses_SENT="SENT",components_VSearchRatingvue_type_script_lang_js_={name:"VSearchRating",props:["searchTerm"],data:function data(){return{status:Statuses_NOT_SENT}},methods:{sendSearchRatingEvent:function sendSearchRatingEvent(isRelevant){var _this=this;this.$store.dispatch("".concat(store_modules.j,"/").concat(usage_data_analytics_types.e),{query:this.$props.searchTerm,relevant:isRelevant}),this.status=Statuses_SENT,setTimeout((function(){_this.status=null}),1500)}}};__webpack_require__(1328);const VSearchRating_vuedocgen_export_0=Object(componentNormalizer.a)(components_VSearchRatingvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",["NOT_SENT"===_vm.status?[_c("span",[_vm._v(_vm._s(_vm.$t("browse-page.search-rating.content")))]),_vm._v(" "),_c("button",{staticClass:"button is-text tiny p-0 rating rating-yes",attrs:{"aria-label":_vm.$t("browse-page.aria.relevance.yes")},on:{click:function($event){return _vm.sendSearchRatingEvent(!0)},keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.sendSearchRatingEvent(!0)}}},[_vm._v("\n      "+_vm._s(_vm.$t("browse-page.search-rating.yes"))+"\n    ")]),_vm._v("\n    •\n    "),_c("button",{staticClass:"button is-text tiny p-0 rating rating-no",attrs:{"aria-label":_vm.$t("browse-page.aria.relevance.no")},on:{click:function($event){return _vm.sendSearchRatingEvent(!1)},keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.sendSearchRatingEvent(!1)}}},[_vm._v("\n      "+_vm._s(_vm.$t("browse-page.search-rating.no"))+"\n    ")])]:"SENT"===_vm.status?[_c("span",{staticClass:"thank-you"},[_vm._v(_vm._s(_vm.$t("browse-page.search-rating.feedback-thanks")))])]:_vm._e()],2)}),[],!1,null,"081e96b8",null).exports;var VSearchRating=VSearchRating_vuedocgen_export_0;VSearchRating_vuedocgen_export_0.__docgenInfo={displayName:"VSearchRating",exportName:"default",description:"",tags:{},props:[{name:"searchTerm",type:{name:"undefined"}}]};var _i18nKeys,VMetaSearchForm=__webpack_require__(1208),i18nKeys=(_i18nKeys={},Object(defineProperty.a)(_i18nKeys,media.b,{noResult:"browse-page.audio-no-results",result:"browse-page.audio-result-count",more:"browse-page.audio-result-count-more"}),Object(defineProperty.a)(_i18nKeys,media.c,{noResult:"browse-page.image-no-results",result:"browse-page.image-result-count",more:"browse-page.image-result-count-more"}),_i18nKeys),components_VSearchGridvue_type_script_lang_js_={name:"VSearchGrid",components:{VMetaSearchForm:VMetaSearchForm.default,VSaferBrowsing:VSaferBrowsing,VSearchRating:VSearchRating},props:{supported:{type:Boolean,required:!0},query:{type:Object,required:!0},searchType:{type:String,required:!0},fetchState:{required:!0},resultsCount:{type:Number,required:!0}},setup:function setup(props){var i18n=Object(dist_runtime.p)().i18n,shouldShowMeta=Object(dist_runtime.a)((function(){return props.supported&&""!==props.query.q.trim()&&!props.fetchState.isFetching}));return{mediaCount:Object(dist_runtime.a)((function(){if(props.supported){var count=props.resultsCount,countKey=0===count?"noResult":count>=1e4?"more":"result",i18nKey=i18nKeys[props.query.mediaType][countKey],localeCount=count.toLocaleString(i18n.locale);return i18n.tc(i18nKey,count,{localeCount:localeCount})}})),noresult:Object(dist_runtime.a)((function(){return!!props.supported&&(""!==props.query.q&&0===props.resultsCount)})),shouldShowMeta:shouldShowMeta,isSupported:Object(dist_runtime.a)((function(){return"all"===props.searchType||props.supported})),metaSearchFormType:Object(dist_runtime.a)((function(){return"all"===props.searchType?"image":props.searchType}))}}},VSearchGrid_component=Object(componentNormalizer.a)(components_VSearchGridvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",{staticClass:"search-grid"},[_vm.shouldShowMeta?_c("div",{staticClass:"results-meta flex flex-col sm:flex-row items-start justify-between px-6",attrs:{"data-testid":"search-meta"}},[_c("div",{staticClass:"font-semibold caption leading-10 flex flex-col sm:flex-row sm:me-auto justify-between"},[_c("span",{staticClass:"pe-6"},[_vm._v("\n        "+_vm._s(_vm.mediaCount)+"\n      ")]),_vm._v(" "),_vm.query.q?_c("VSearchRating",{staticClass:"leading-10",attrs:{"search-term":_vm.query.q}}):_vm._e()],1),_vm._v(" "),_c("VSaferBrowsing")],1):_vm._e(),_vm._v(" "),_vm._t("media"),_vm._v(" "),_vm.fetchState.isFetching?_vm._e():_c("VMetaSearchForm",{attrs:{type:_vm.metaSearchFormType,noresult:_vm.noresult,query:_vm.query,supported:_vm.isSupported}})],2)}),[],!1,null,null,null);const VSearchGrid_vuedocgen_export_0=VSearchGrid_component.exports;var VSearchGrid=VSearchGrid_vuedocgen_export_0;installComponents(VSearchGrid_component,{VMetaSearchForm:__webpack_require__(1208).default}),VSearchGrid_vuedocgen_export_0.__docgenInfo={displayName:"VSearchGrid",exportName:"default",description:"",tags:{},props:[{name:"supported",type:{name:"boolean"},required:!0},{name:"query",type:{name:"object"},required:!0},{name:"searchType",type:{name:"string"},required:!0},{name:"fetchState",required:!0},{name:"resultsCount",type:{name:"number"},required:!0}],slots:[{name:"media"}]};var SearchGridFilter=__webpack_require__(1216);function searchvue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function searchvue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?searchvue_type_script_lang_js_ownKeys(Object(source),!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):searchvue_type_script_lang_js_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var pages_searchvue_type_script_lang_js_={name:"browse-page",layout:"default",components:{AppModal:AppModal,SearchGridFilter:SearchGridFilter.default,VScrollButton:VScrollButton,VSearchGrid:VSearchGrid},setup:function setup(){var defaultWindow="undefined"!=typeof window?window:void 0;return{isMdScreen:Object(use_media_query.a)("md",defaultWindow)}},scrollToTop:!1,fetch:function fetch(){var _this=this;return Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!_this.supported||Object.keys(_this.results.items).length||""===_this.query.q.trim()){_context.next=3;break}return _context.next=3,_this.fetchMedia({});case 3:case"end":return _context.stop()}}),_callee)})))()},data:function data(){return{showScrollButton:!1}},created:function created(){var _this2=this;return Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_this2.debounceScrollHandling=lodash_debounce_default()(_this2.checkScrollLength,100),_context2.next=4;break;case 4:case"end":return _context2.stop()}}),_callee2)})))()},mounted:function mounted(){this.setFilterVisibility({isFilterVisible:this.isMdScreen&&function localFilterState(){return!local.a.get("openverse-filter-visibility")||"true"===local.a.get("openverse-filter-visibility")}()}),window.addEventListener("scroll",this.debounceScrollHandling)},beforeDestroy:function beforeDestroy(){window.removeEventListener("scroll",this.debounceScrollHandling)},computed:searchvue_type_script_lang_js_objectSpread(searchvue_type_script_lang_js_objectSpread(searchvue_type_script_lang_js_objectSpread(searchvue_type_script_lang_js_objectSpread({},Object(vuex_esm.e)(store_modules.i,["query","isFilterVisible","searchType"])),Object(vuex_esm.c)(store_modules.i,["searchQueryParams","isAnyFilterApplied"])),Object(vuex_esm.c)(store_modules.e,["results","fetchState"])),{},{mediaType:function mediaType(){return this.searchType!==media.a?this.searchType:media.c},shouldShowFilterTags:function shouldShowFilterTags(){return["/search/","/search/image"].includes(this.$route.path)&&this.isAnyFilterApplied},resultsCount:function resultsCount(){return this.supported?this.results.count:0},searchFilter:function searchFilter(){return{classes:{"column is-narrow grid-sidebar max-w-full bg-white":this.isMdScreen},as:this.isMdScreen?"aside":AppModal}},supported:function supported(){return this.searchType!==media.b&&[media.c,media.a].includes(this.searchType)}}),methods:searchvue_type_script_lang_js_objectSpread(searchvue_type_script_lang_js_objectSpread(searchvue_type_script_lang_js_objectSpread(searchvue_type_script_lang_js_objectSpread({},Object(vuex_esm.b)(store_modules.e,{fetchMedia:action_types.f})),Object(vuex_esm.b)(store_modules.i,{setSearchStateFromUrl:action_types.n,updateSearchType:action_types.r,updateQuery:action_types.p})),Object(vuex_esm.d)(store_modules.i,{setFilterVisibility:mutation_types.x})),{},{getMediaItems:function getMediaItems(params){var _this3=this;return Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(""===_this3.query.q.trim()){_context3.next=3;break}return _context3.next=3,_this3.fetchMedia(searchvue_type_script_lang_js_objectSpread({},params));case 3:case"end":return _context3.stop()}}),_callee3)})))()},onSearchFormSubmit:function onSearchFormSubmit(_ref){var q=_ref.q;this.updateQuery({q:q})},onToggleSearchGridFilter:function onToggleSearchGridFilter(){this.setFilterVisibility({isFilterVisible:!this.isFilterVisible})},checkScrollLength:function checkScrollLength(){this.showScrollButton=window.scrollY>70}}),watch:{query:{deep:!0,handler:function handler(){var newPath=this.localePath({path:this.$route.path,query:this.searchQueryParams});this.$router.push(newPath),this.supported&&this.getMediaItems(this.query)}},$route:function $route(newRoute,oldRoute){if(newRoute.path!==oldRoute.path){var searchType=Object(search_query_transform.b)(newRoute.path);this.updateSearchType({searchType:searchType})}}}},search_component=(__webpack_require__(1333),Object(componentNormalizer.a)(pages_searchvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"browse-page"},[_c("div",{staticClass:"search columns"},[_vm.isFilterVisible?_c(_vm.searchFilter.as,{tag:"Component",class:_vm.searchFilter.classes,on:{close:_vm.onToggleSearchGridFilter}},[_c("SearchGridFilter")],1):_vm._e(),_vm._v(" "),_c("div",{staticClass:"column search-grid-ctr"},[_c("SearchGridForm",{on:{onSearchFormSubmit:_vm.onSearchFormSubmit}}),_vm._v(" "),_c("SearchTypeTabs",{staticClass:"mb-4"}),_vm._v(" "),_c("FilterDisplay",{directives:[{name:"show",rawName:"v-show",value:_vm.shouldShowFilterTags,expression:"shouldShowFilterTags"}]}),_vm._v(" "),_c("VSearchGrid",{attrs:{id:"tab-"+_vm.searchType,role:"tabpanel","aria-labelledby":_vm.searchType,"fetch-state":_vm.fetchState,query:_vm.query,supported:_vm.supported,"search-type":_vm.searchType,"results-count":_vm.resultsCount,"data-testid":"search-grid"},scopedSlots:_vm._u([{key:"media",fn:function(){return[_c("NuxtChild",{key:_vm.$route.path,attrs:{"media-results":_vm.results,"fetch-state":_vm.fetchState,"is-filter-visible":_vm.isFilterVisible,"search-term":_vm.query.q,supported:_vm.supported,"data-testid":"search-results"}})]},proxy:!0}])}),_vm._v(" "),_c("VScrollButton",{directives:[{name:"show",rawName:"v-show",value:_vm.showScrollButton,expression:"showScrollButton"}],attrs:{"data-testid":"scroll-button"}})],1)],1)])}),[],!1,null,"2126d2d0",null));const search_vuedocgen_export_0=search_component.exports;__webpack_exports__.default=search_vuedocgen_export_0;installComponents(search_component,{SearchGridFilter:__webpack_require__(1216).default,FilterDisplay:__webpack_require__(1218).default}),search_vuedocgen_export_0.__docgenInfo={displayName:"browse-page",exportName:"default",description:"",tags:{}}}}]);